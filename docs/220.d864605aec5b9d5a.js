"use strict";(self.webpackChunktbs=self.webpackChunktbs||[]).push([[220],{220:(p,l,r)=>{r.r(l),r.d(l,{circular_chart:()=>n});var e=r(872),o=r(546),h=r(435);const n=class{constructor(t){(0,e.r)(this,t),this.width=170,this.height=170,this.data="[]",this.initData()}initData(){console.log(this.data),this.chartData="object"==typeof this.data?this.data:JSON.parse(this.data),this.total=this.chartData.reduce((t,a)=>a.value+t,0)}componentDidLoad(){const t=(0,o.s)(this.element.shadowRoot.querySelectorAll(".chart")[0]).attr("width",this.width).attr("height",this.height);this.buildChart(t)}buildChart(t){let a=Math.min(this.width,this.height)/2,c=(0,h.a)().innerRadius(.8*a).outerRadius(a-1),g=(0,h.p)().sort(null).value(s=>s.value)(this.chartData);var i=t.append("g").attr("transform",`translate(${this.width/2}, ${this.height/2})`).attr("stroke","white");i.selectAll("path").data(g).join("path").attr("fill",s=>this.getColor(s.data.code)).attr("d",c),i.append("svg:text").classed("chart-middle-text",!0).attr("dy","0.1em").text(this.total),i.append("svg:text").classed("chart-middle-text secondary",!0).attr("dy","1.8em").text(this.label)}getColor(t){if("BENCHMARK"===this.type)return this.getBenchMarkColor(t)}getBenchMarkColor(t){let a;switch(t){case"SAME":default:a="#acc0c4";break;case"DIFFERENT":a="orange";break;case"ABOVE":a="#51a98b";break;case"BELOW":a="red"}return a}getPercentage(t){return(100*t/this.total).toFixed(0)}render(){return(0,e.h)("article",{class:"card"},(0,e.h)("h1",{class:"mb-1-5"},this.header),(0,e.h)("div",{class:"container"},(0,e.h)("div",null,(0,e.h)("svg",{class:"chart"})),(0,e.h)("div",{class:"legend-container"},(0,e.h)("div",{class:"legend-row header"},(0,e.h)("span",null,"Total ",this.label),(0,e.h)("span",{class:"ml-auto"},this.total)),this.chartData.map(t=>(0,e.h)("div",{class:"legend-row"},(0,e.h)("span",{class:"lengend-identifier",style:{backgroundColor:this.getColor(t.code)}}),(0,e.h)("span",null,t.label),(0,e.h)("span",{class:"ml-auto ws-pre"},this.getPercentage(t.value),"% | ",t.value))))))}get element(){return(0,e.g)(this)}};n.style=":host{font-family:Aktiv Grotesk, -apple-system, BlinkMacSystemFont, San Francisco, Segoe UI, Roboto, Helvetica Neue, sans-serif;display:block;font-size:14px}.card{background-color:white;border:1px solid #b5c7ca;border-radius:10px;padding:25px}.chart-middle-text{font-size:2rem;fill:black;stroke:none;text-anchor:middle}.chart-middle-text.secondary{font-size:1rem;fill:gray}.container{display:flex;align-items:center;width:100%}.legend-container{margin-left:20px;width:100%}.legend-row{display:flex;margin-bottom:5px;align-items:center}.legend-row.header{font-weight:bold;color:#46535e;margin-bottom:10px}.lengend-identifier{display:inline-block;width:0.75rem;height:0.75rem;border-radius:50%;margin-top:2px;margin-right:5px}h1{margin:0;padding:0}.ml-auto{margin-left:auto}.mb-1-5{margin-bottom:1.5rem}.ws-pre{white-space:pre}@media (max-width: 576px){.container{flex-wrap:wrap;justify-content:center}.legend-container{margin-left:0px}}"}}]);